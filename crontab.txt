# copy data from container
0 0 * * *  docker cp djangoblog:/code/djangoblog/uploads/editor /data
# dump the data from mysql
0 1 * * *  sh /apps/code/SyncDataToGoogleDrive/data_backup/mysql_data_backup.sh
# Diff two directory
# /data/editor: the latest data copy from container today
# /data/blog_image_data: the data in yesterday, you have already upload to google drive
# diff two directroy to make the file_create_time different, so that you can incremental update you data instead of upload all data
0 2 * * *  cd /data/editor && diff /data/editor /data/blog_image_data|awk '{for(i=4;i<=NF;i=i+1)printf " "$i;print ""}' | xargs -I {} cp {} /data/blog_image_data/
# upload the mysql's data and incremental blog data to google drive
0 3 * * *  python /apps/code/SyncDataToGoogleDrive/upload_data_to_google_drive.py